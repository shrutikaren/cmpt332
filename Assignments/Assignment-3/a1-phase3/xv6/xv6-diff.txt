-----------------------------------------
+ 	    Update: kernel/syscall.h 	    +
-----------------------------------------

/* Assignment 1E update */
#define SYS_trace  22

-----------------------------------------


-----------------------------------------
+       Update: user/user.h  	        +
-----------------------------------------

/* Assignment 1E update */
int trace(int);

-----------------------------------------


-----------------------------------------
+       Update: user/usys.pl  	        +
-----------------------------------------

# Assignment 1E update 
int trace(int);

-----------------------------------------


-----------------------------------------
+        Update: kernal/sysproc.c  	    +
-----------------------------------------

/* Assignment 1E update */
uint64
sys_trace(void)
{
    int mask;
    
    if(argint(0, &mask) < 0){
        return -1;
    }
    
    proc->trace_mask = mask;
    
    return 0;  /* not reached */
}

-----------------------------------------


-----------------------------------------
+       Update: kernal/syscall.c  	    +
-----------------------------------------

/* Assignment 1E update */
extern uint64 sys_trace(void);

...
...
...

/* Assignment 1E update */
[SYS_trace]   sys_trace,

-----------------------------------------



-----------------------------------------
+       Update: kernal/proc.c  	        +
-----------------------------------------


/* Assignment 1E update */
p->trace_mask = 0;

...
...
...

/* Assignment 1E update */
np->trace_mask = p->trace_mask;

-----------------------------------------

